/* ─────────────────────────────────────────────────────
   Operations Spine — Command Center
   Dark. Precise. Mechanical. No noise.
───────────────────────────────────────────────────── */

.osv2Outer { position: relative; }

.osv2Sticky {
  position: relative;
  width: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  overflow: hidden;
  isolation: isolate;
  background: #0e1117;
}

/* GSAP pin spacer: force transparent */
.osv2Outer > .pin-spacer {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  min-height: 0 !important;
}

/* Subtle grid texture overlay */
.osv2Grain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}
.osv2GrainBack {
  position: absolute;
  inset: 0;
  opacity: 0.2;
  background:
    radial-gradient(54% 40% at 10% 20%, rgba(100,130,200,0.1), transparent 72%),
    radial-gradient(38% 30% at 90% 80%, rgba(80,110,180,0.07), transparent 74%);
}
.osv2GrainLines {
  position: absolute;
  inset: 0;
  opacity: 0.035;
  background-image:
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,0.08) 0 1px,
      transparent 1px 56px
    ),
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.04) 0 1px,
      transparent 1px 56px
    );
}

/* ── Content shell ── */
.osv2Content {
  position: relative;
  z-index: 2;
  width: min(1280px, calc(100% - 2.4rem));
  margin: 0 auto;
  padding-block: clamp(3.2rem, 8vh, 6.4rem);
  display: grid;
  gap: clamp(2.8rem, 6vw, 6rem);
}
@media (min-width: 960px) {
  .osv2Content {
    grid-template-columns: 0.78fr 1.22fr;
    align-items: center;
  }
}

/* ── Left: copy + progress ── */
.osv2Left {
  display: grid;
  gap: clamp(1rem, 2.4vh, 1.7rem);
  align-content: start;
}
@media (min-width: 960px) {
  .osv2Left {
    position: sticky;
    top: clamp(4rem, 12vh, 8rem);
  }
}

.osv2Eyebrow {
  margin: 0;
  font-size: 0.58rem;
  letter-spacing: 0.28em;
  text-transform: uppercase;
  font-weight: 600;
  color: rgba(255,255,255,0.28);
}

.osv2Headline {
  margin: 0;
  font-family: var(--font-heading, 'Fraunces', serif);
  font-size: clamp(1.72rem, 3.4vw, 2.8rem);
  line-height: 1.04;
  letter-spacing: -0.034em;
  color: rgba(255,255,255,0.9);
  text-wrap: balance;
}

.osv2Body {
  margin: 0;
  font-size: clamp(0.86rem, 1.15vw, 1rem);
  line-height: 1.72;
  color: rgba(255,255,255,0.36);
  max-width: 40ch;
}

/* Progress */
.osv2ProgWrap { display: flex; flex-direction: column; gap: 0.55rem; }
.osv2ProgTrack {
  width: min(220px, 100%);
  height: 1px;
  background: rgba(255,255,255,0.09);
  overflow: hidden;
}
.osv2ProgFill {
  height: 100%;
  width: 100%;
  background: rgba(255,255,255,0.6);
  transform: scaleX(0);
  transform-origin: left center;
  will-change: transform;
}
.osv2ProgLabel {
  margin: 0;
  display: flex;
  align-items: baseline;
  gap: 0.3em;
  font-family: var(--font-heading, 'Fraunces', serif);
  font-size: 0.66rem;
  color: rgba(255,255,255,0.22);
  letter-spacing: 0.04em;
  user-select: none;
}
.osv2ProgLabelCurrent {
  font-size: clamp(1.4rem, 2.6vw, 1.6rem);
  line-height: 1;
  color: rgba(255,255,255,0.78);
  letter-spacing: -0.03em;
}
.osv2ProgLabelSep { opacity: 0.22; font-size: 0.78rem; }

/* CTA */
.osv2Cta { padding-top: 0.4rem; will-change: opacity, transform; }
.osv2CtaBtn {
  display: inline-flex;
  align-items: center;
  gap: 0.55rem;
  padding: 0.54rem 1.1rem;
  border: 1px solid rgba(255,255,255,0.13);
  background: transparent;
  font-size: 0.73rem;
  font-weight: 600;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.5);
  cursor: pointer;
  text-decoration: none;
  transition: border-color 0.24s ease, color 0.24s ease, transform 0.18s ease;
}
.osv2CtaBtn:hover {
  border-color: rgba(255,255,255,0.3);
  color: rgba(255,255,255,0.85);
  transform: translateY(-1px);
}
.osv2CtaBtn:focus-visible {
  outline: 1px solid rgba(255,255,255,0.4);
  outline-offset: 4px;
}
.osv2CtaArrow { display: inline-block; transition: transform 0.18s ease; }
.osv2CtaBtn:hover .osv2CtaArrow { transform: translateX(3px); }

/* ─────────────────────────────────────────────────────
   Right column: alternating layout
   left-cards | center-rail | right-cards
───────────────────────────────────────────────────── */
.osv2Right {
  position: relative;
  display: grid;
  grid-template-columns: 1fr 22px 1fr;
  gap: 0 clamp(0.8rem, 1.6vw, 1.4rem);
  align-items: start;
}

/* Center rail spans all rows */
.osv2Rail {
  grid-column: 2;
  grid-row: 1 / span 10;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  align-self: stretch;
  padding-block: 4px;
}
.osv2RailTrack {
  position: absolute;
  inset: 0;
  width: 1px;
  margin-inline: auto;
  background: rgba(255,255,255,0.07);
}
.osv2RailFill {
  position: absolute;
  top: 0;
  left: 50%;
  width: 1px;
  height: 100%;
  transform: translateX(-50%) scaleY(0);
  transform-origin: top center;
  background: rgba(255,255,255,0.38);
  box-shadow: 0 0 5px rgba(255,255,255,0.1);
  will-change: transform;
}
.osv2RailDots {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  padding-block: 4px;
}
.osv2RailDot {
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.05);
  flex-shrink: 0;
  transition: background 0.36s ease, box-shadow 0.36s ease;
}
.osv2RailDotActive {
  background: rgba(255,255,255,0.65);
  box-shadow: 0 0 7px rgba(255,255,255,0.18);
}

/* ── Left cards column (even-indexed phases: 0, 2) ── */
.osv2LeftCards {
  grid-column: 1;
  display: grid;
  gap: clamp(0.6rem, 1.4vh, 1rem);
  align-content: start;
  padding-top: clamp(2.4rem, 8vh, 5.5rem);
}

/* ── Right cards column (odd-indexed phases: 1, 3) ── */
.osv2RightCards {
  grid-column: 3;
  display: grid;
  gap: clamp(0.6rem, 1.4vh, 1rem);
  align-content: start;
}

/* Mobile: collapse to single column */
@media (max-width: 768px) {
  .osv2Right { grid-template-columns: 1fr; }
  .osv2Rail { display: none; }
  .osv2LeftCards,
  .osv2RightCards { grid-column: 1; padding-top: 0; }
}

/* ─────────────────────────────────────────────────────
   Phase Cards — Architectural Panels, Dark
───────────────────────────────────────────────────── */
.osv2Card {
  position: relative;
  will-change: opacity, transform;
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 3px;
  background: rgba(255,255,255,0.028);
  padding: clamp(0.9rem, 2vh, 1.3rem) clamp(1rem, 2vw, 1.3rem);
  cursor: default;
  outline: none;
  transition:
    border-color 0.44s cubic-bezier(0.22, 1, 0.36, 1),
    background-color 0.44s cubic-bezier(0.22, 1, 0.36, 1),
    box-shadow 0.44s cubic-bezier(0.22, 1, 0.36, 1),
    transform 0.44s cubic-bezier(0.22, 1, 0.36, 1);
}
.osv2Card:focus-visible {
  outline: 1px solid rgba(255,255,255,0.25);
  outline-offset: 3px;
}
.osv2CardActive {
  border-color: rgba(255,255,255,0.13);
  background: rgba(255,255,255,0.052);
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.03),
    0 14px 44px rgba(0,0,0,0.55),
    0 2px 10px rgba(0,0,0,0.32);
}

/* Phase number label */
.osv2CardNum {
  display: block;
  font-family: var(--font-heading, 'Fraunces', serif);
  font-size: 0.52rem;
  letter-spacing: 0.24em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.18);
  margin-bottom: clamp(0.5rem, 1.2vh, 0.8rem);
  transition: color 0.32s ease;
}
.osv2CardActive .osv2CardNum { color: rgba(255,255,255,0.42); }

/* Card inner grid */
.osv2CardInner {
  display: grid;
  gap: clamp(0.6rem, 1.5vw, 0.9rem);
}
@media (min-width: 560px) {
  .osv2CardInner {
    grid-template-columns: clamp(56px, 8vw, 74px) 1fr;
    align-items: start;
  }
}
@media (max-width: 768px) {
  .osv2CardInner { grid-template-columns: 1fr; }
}

/* Thumbnail */
.osv2CardThumb {
  position: relative;
  overflow: hidden;
  border-radius: 2px;
  border: 1px solid rgba(255,255,255,0.05);
  aspect-ratio: 4/3;
  min-height: 44px;
  background: rgba(255,255,255,0.04);
  transition: border-color 0.32s ease;
}
@media (max-width: 768px) {
  .osv2CardThumb { aspect-ratio: 16/5; max-height: 44px; }
}
.osv2CardActive .osv2CardThumb { border-color: rgba(255,255,255,0.1); }
.osv2CardImg {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: grayscale(0.4) brightness(0.6);
  transition: transform 0.82s cubic-bezier(0.22, 1, 0.36, 1), filter 0.5s ease;
}
.osv2CardActive .osv2CardImg {
  transform: scale(1.06);
  filter: grayscale(0.15) brightness(0.8);
}

/* Shimmer */
.osv2CardShimmer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: linear-gradient(
    110deg,
    rgba(255,255,255,0) 28%,
    rgba(255,255,255,0.08) 50%,
    rgba(255,255,255,0) 72%
  );
  animation: osv2-shimmer 1.6s ease-in-out;
}
@keyframes osv2-shimmer {
  from { transform: translateX(-110%); }
  to   { transform: translateX(210%); }
}

/* Card text */
.osv2CardText { display: grid; gap: 0.2rem; align-content: start; }
.osv2CardEyebrow {
  margin: 0;
  font-size: 0.52rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.18);
  transition: color 0.28s ease;
}
.osv2CardActive .osv2CardEyebrow { color: rgba(255,255,255,0.4); }
.osv2CardTitle {
  margin: clamp(0.18rem, 0.4vh, 0.28rem) 0 0;
  font-family: var(--font-heading, 'Fraunces', serif);
  font-size: clamp(0.9rem, 1.25vw, 1.06rem);
  line-height: 1.14;
  letter-spacing: -0.022em;
  color: rgba(255,255,255,0.78);
}
.osv2CardDetail {
  margin: clamp(0.2rem, 0.4vh, 0.28rem) 0 0;
  font-size: clamp(0.74rem, 0.92vw, 0.83rem);
  line-height: 1.68;
  color: rgba(255,255,255,0.3);
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition:
    max-height 0.52s cubic-bezier(0.22, 1, 0.36, 1),
    opacity 0.42s ease;
}
.osv2CardActive .osv2CardDetail { max-height: 14rem; opacity: 1; }

/* Active dot */
.osv2CardDot {
  position: absolute;
  top: clamp(0.9rem, 2vh, 1.2rem);
  right: clamp(0.9rem, 2vw, 1.1rem);
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: rgba(255,255,255,0.45);
  transition: opacity 0.32s ease;
}

/* Sentinel */
.osv2Sentinel { height: 0; overflow: hidden; pointer-events: none; }

/* Mobile override */
@media (max-width: 768px) {
  .osv2Card { opacity: 1 !important; transform: none !important; }
  .osv2CardDetail { max-height: 14rem !important; opacity: 1 !important; }
  .osv2Left { opacity: 1 !important; transform: none !important; }
  .osv2Cta { opacity: 1 !important; transform: none !important; }
  .osv2Sticky { align-items: flex-start; padding-top: clamp(5.2rem, 12vh, 7rem); }
  .osv2RailFill { transform: translateX(-50%) scaleY(1) !important; }
  .osv2ProgFill { transform: scaleX(1) !important; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .osv2Card,
  .osv2CardImg,
  .osv2CardDetail,
  .osv2ProgFill,
  .osv2RailFill,
  .osv2CtaBtn { transition-duration: 0.01ms !important; animation: none !important; }
  .osv2Card { opacity: 1 !important; transform: none !important; }
  .osv2CardDetail { max-height: 14rem !important; opacity: 1 !important; }
  .osv2CardShimmer { display: none; }
  .osv2RailFill { transform: translateX(-50%) scaleY(1) !important; }
  .osv2ProgFill { transform: scaleX(1) !important; }
}
